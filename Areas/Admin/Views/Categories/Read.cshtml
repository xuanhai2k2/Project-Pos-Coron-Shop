@*nhan dien cac file trong thu muc Models*@
@using devpro_project.Models
@using X.PagedList.Mvc.Core
@model X.PagedList.IPagedList<ItemCategory>
@*khai bao kieu du lieu cua Model*@
@{
    //import file layout
    Layout = "~/Areas/Admin/Views/Shared/Layout.cshtml";
}
@functions{
    //tao doi tượng thao tác csdl sử dụng linq
    public MyDbContext db = new MyDbContext();
    //lấy danh mục cấp con
    public List<ItemCategory> GetSubCategories(int _Id)
    {
        List<ItemCategory> list_categories = db.Categories.Where(item => item.ParentId == _Id).OrderByDescending(item => item.Id).ToList();
        return list_categories;
    }
}
<div class="col-md-12">
    <div style="margin-bottom:5px;">
        <a href="/Admin/Categories/Create" class="btn btn-primary">Add user</a>
    </div>
    <table class="table table-hover">
        <tr>
            <th>Name</th>
            <th style="width:200px;">Display Home Page</th>
            <th style="width:100px;"></th>
        </tr>
        @foreach (var row in Model)
        {
            <tr>
                <td>@row.Name</td>
                <td style="text-align:center;">
                    @if(row.DisplayHomePage == 1)
                    {
                        <text>Display</text>
                    }
                </td>
                <td style="text-align:center;">
                    <a href="/Admin/Categories/Update/@row.Id">Edit</a>&nbsp
                    <a href="/Admin/Categories/Delete/@row.Id" onclick="return window.confirm('Are you sure?');">Delete</a>
                </td>
            </tr>
            List<ItemCategory> list_categories = GetSubCategories(row.Id);
            foreach(ItemCategory row_sub in list_categories)
            {
                <tr>
                    <td style="padding-left:35px;">@row_sub.Name</td>
                    <td style="text-align:center; ">
                        @if (row_sub.DisplayHomePage == 1)
                        {
                            <text>Display</text>
                        }
                    </td>
                    <td style="text-align:center;">
                        <a href="/Admin/Categories/Update/@row_sub.Id">Edit</a>&nbsp
                        <a href="/Admin/Categories/Delete/@row_sub.Id" onclick="return window.confirm('Are you sure?');">Delete</a>
                    </td>
                </tr>
            }
        }
    </table>
    <style type="text/css">
        .pagination {
            padding: 0px;
            margin: 0px;
        }

            .pagination > li {
                display: inline
            }

                .pagination > li > a, .pagination > li > span {
                    position: relative;
                    float: left;
                    padding: 6px 12px;
                    line-height: 1.42857143;
                    text-decoration: none;
                    color: #337ab7;
                    background-color: #fff;
                    border: 1px solid #ddd;
                    margin-left: -1px
                }

                .pagination > li:first-child > a, .pagination > li:first-child > span {
                    margin-left: 0;
                    border-bottom-left-radius: 4px;
                    border-top-left-radius: 4px
                }

                .pagination > li:last-child > a, .pagination > li:last-child > span {
                    border-bottom-right-radius: 4px;
                    border-top-right-radius: 4px
                }

                .pagination > li > a:hover, .pagination > li > span:hover, .pagination > li > a:focus, .pagination > li > span:focus {
                    z-index: 2;
                    color: #23527c;
                    background-color: #eee;
                    border-color: #ddd
                }

            .pagination > .active > a, .pagination > .active > span, .pagination > .active > a:hover, .pagination > .active > span:hover, .pagination > .active > a:focus, .pagination > .active > span:focus {
                z-index: 3;
                color: #fff;
                background-color: #337ab7;
                border-color: #337ab7;
                cursor: default
            }

            .pagination > .disabled > span, .pagination > .disabled > span:hover, .pagination > .disabled > span:focus, .pagination > .disabled > a, .pagination > .disabled > a:hover, .pagination > .disabled > a:focus {
                color: #777;
                background-color: #fff;
                border-color: #ddd;
                cursor: not-allowed
            }

        .pagination-lg > li > a, .pagination-lg > li > span {
            padding: 10px 16px;
            font-size: 18px;
            line-height: 1.3333333
        }

        .pagination-lg > li:first-child > a, .pagination-lg > li:first-child > span {
            border-bottom-left-radius: 6px;
            border-top-left-radius: 6px
        }

        .pagination-lg > li:last-child > a, .pagination-lg > li:last-child > span {
            border-bottom-right-radius: 6px;
            border-top-right-radius: 6px
        }

        .pagination-sm > li > a, .pagination-sm > li > span {
            padding: 5px 10px;
            font-size: 12px;
            line-height: 1.5
        }

        .pagination-sm > li:first-child > a, .pagination-sm > li:first-child > span {
            border-bottom-left-radius: 3px;
            border-top-left-radius: 3px
        }

        .pagination-sm > li:last-child > a, .pagination-sm > li:last-child > span {
            border-bottom-right-radius: 3px;
            border-top-right-radius: 3px
        }
    </style>
    @Html.PagedListPager(Model, page => Url.Action("Read", new { page = page, a= 1, b =2 }) )
</div>